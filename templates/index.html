$def with (todos,form, text)






<!DOCTYPE HTML>
<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="content-type"/>
<title>HTML5 Drag and drop demonstration</title>

 <link rel="stylesheet" href="static/first.css" type="text/css"/>
 <link rel="stylesheet" href="/static/tutorial.css" type="text/css"/>
 <script type="text/javascript" src="/static/jquery.js"></script>
 <script type="text/javascript" src="/static/dragdrop.js"></script>

  <script type="text/javascript">
                                jQuery(document).ready(function() {
                                jQuery(".button").click(function() {
                                        var input_string = $$("input#textfield").val();
                                        jQuery.ajax({
                                                type: "POST",
                                                data: {textfield : input_string},
                                                success: function(data) {
                                                jQuery('#foo').html(data);
                                             
                                                },
                                                });
                                        return false;
                                        });
                                });
        
                        </script>


</head>
<body>
    <h1>Cdasm in build</h1>
    <ul>
	$for todo in todos:
	    <li id="$todo.id">$todo.title</li>
	</ul>
    <div> The red box and the orange box can be dragged and dropped between 
    the blue and the green boxes.
    The purple box can be dragged and dropped only to the yellow box.
    </div>

    <div id="boxA"
        ondragenter="return dragEnter(event)"
        ondrop="return dragDrop(event)"
        ondragover="return dragOver(event)">

      <div id="drag" draggable="true"
            ondragstart="return dragStart(event)"
            ondragend="return dragEnd(event)">drag me</div>

      <div id="drag2" draggable="true"
            ondragstart="return dragStart(event)"
            ondragend="return dragEnd(event)">drag me</div>

      <div id="drag3" draggable="true"
            ondragstart="return dragStart(event)"
            ondragend="return dragEnd(event)">drag me</div>

    </div>

    <div id="boxB"
        ondragenter="return dragEnter(event)"
        ondrop="return dragDrop(event)"
        ondragover="return dragOver(event)">
    </div>

    <div id="boxC"
        ondragenter="return dragEnter(event)"
        ondrop="return dragDrop(event)"
        ondragover="return dragOver(event)">
    </div>
    <div style="clear:both"></div>
	 <br>
        <form class="form" method="post"> 
        $:form.render()
        <input class="button" type="submit" value="send"/>    
        </form>

        <br><br>
        <span id="foo">$text</span>   
</body>
</html>